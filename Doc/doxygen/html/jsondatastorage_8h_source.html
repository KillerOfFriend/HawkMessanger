<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HawkMessanger: Исходный файл Projects/libraries/HawkServerCore/src/datastorage/jsondatastorage/jsondatastorage.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HawkMessanger
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7a6499598ddcfcabe96e224cb4a6d834.html">Projects</a></li><li class="navelem"><a class="el" href="dir_e58a87a21221f9da698103351b870c05.html">libraries</a></li><li class="navelem"><a class="el" href="dir_485b41ef44ea30d0ff1fb3a33d0a2744.html">HawkServerCore</a></li><li class="navelem"><a class="el" href="dir_c8ef347a8dd5b57ac3e6e5a41e06b75b.html">src</a></li><li class="navelem"><a class="el" href="dir_4b0eac25ca14f2da270617e6e177117c.html">datastorage</a></li><li class="navelem"><a class="el" href="dir_c9cab5d7f3993865fa8ac59bd1ca9948.html">jsondatastorage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">jsondatastorage.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="jsondatastorage_8h.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef JSONDATASTORAGE_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define JSONDATASTORAGE_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;filesystem&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;nlohmann/json.hpp&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jsondatastoragevalidator_8h.html">jsondatastoragevalidator.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="abstractharddatastorage_8h.html">datastorage/interface/abstractharddatastorage.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacehmservcommon_1_1datastorage.html">hmservcommon::datastorage</a></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html">   25</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html">HMJsonDataStorage</a> : <span class="keyword">public</span> <a class="code" href="classhmservcommon_1_1datastorage_1_1HMAbstractHardDataStorage.html">HMAbstractHardDataStorage</a></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7005f1738c62da5f90378c68abc5e9c9">   29</a></span>&#160;    <span class="keyword">const</span> std::filesystem::path <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7005f1738c62da5f90378c68abc5e9c9">m_jsonPath</a>;                     </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a545a136e33bf9ec4c57d554011dda10f">   30</a></span>&#160;    nlohmann::json <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a545a136e33bf9ec4c57d554011dda10f">m_json</a>;                                      </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aaffd2faec932fd614f72da7fcb0d9a1b">   31</a></span>&#160;    nlohmann::json <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aaffd2faec932fd614f72da7fcb0d9a1b">m_invalidObject</a> = nlohmann::json::object();  </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ad88e9df768644b7cdeada4bc784fe5d8">   33</a></span>&#160;    <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html">HMJsonDataStorageValidator</a> <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ad88e9df768644b7cdeada4bc784fe5d8">m_validator</a>;                     </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a4fbcd774a183773a78780eef66021141">HMJsonDataStorage</a>(<span class="keyword">const</span> std::filesystem::path&amp; inJsonPath);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a55270d07df8e59979b49ca996466b1b1">~HMJsonDataStorage</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// Хранилище</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a657aae996bc68cfb3d8f1d9f332ad812">open</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af7129f6ff8883d6b59a187a375992aeb">is_open</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a455fb5ad71c026b9e0a71154c15254e2">close</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// Пользователи</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aabb0162c6d3d65e5faf312dd6ff9b1ad">addUser</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMUser&gt; inUser) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1319eca40027cace1bddccb068a315ab">updateUser</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMUser&gt; inUser) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;hmcommon::HMUser&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#afef4c7507fb65d03a581e9598761914f">findUserByUUID</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;hmcommon::HMUser&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ad3c8ee535dc17ca12422dc3ba57b0f7d">findUserByAuthentication</a>(<span class="keyword">const</span> QString&amp; inLogin, <span class="keyword">const</span> QByteArray&amp; inPasswordHash, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aea408c5f20ffe8908f9e706127e11dd9">removeUser</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a8fe994f6f1a05bb97c1a4af8607a5690">setUserContacts</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, <span class="keyword">const</span> std::shared_ptr&lt;std::set&lt;QUuid&gt;&gt; inContacts) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#abfdf94d5dca87303a3dc3c253df331a2">addUserContact</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, <span class="keyword">const</span> QUuid&amp; inContactUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aab05e4ced328690bfe601e3dcc4c73e5">removeUserContact</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, <span class="keyword">const</span> QUuid&amp; inContactUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7fc56117718d56551ba0e4d2d5b243f9">clearUserContacts</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;std::set&lt;QUuid&gt;&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a25efe7999dbe8fa55b28ded9e4bd23f3">getUserContactList</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;std::set&lt;QUuid&gt;&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a69c8ae062f88f8f4dc0771f1dbde7ac1">getUserGroups</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Группы</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7a02a80b8d82a50f3def1e81482cbf9c">addGroup</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMGroup&gt; inGroup) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a76a810289a3527343410e83a7d939ce6">updateGroup</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMGroup&gt; inGroup) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;hmcommon::HMGroup&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ac8ba242b00ff9beeaed5c93c5be11a41">findGroupByUUID</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a97d9b5a2a2d20d652416e72082426ce7">removeGroup</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aaecb72687a39e65f93d88cc149014140">setGroupUsers</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, <span class="keyword">const</span> std::shared_ptr&lt;std::set&lt;QUuid&gt;&gt; inUsers) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a89c7d6e8863cd3ca11a6b2474a109b2a">addGroupUser</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, <span class="keyword">const</span> QUuid&amp; inUserUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a4459561f4b1cff34960e4092859aa83f">removeGroupUser</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, <span class="keyword">const</span> QUuid&amp; inUserUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ab847270a178228e732a2d0d115c89362">clearGroupUsers</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;std::set&lt;QUuid&gt;&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7363a642ac18060116cd8bc648e85bae">getGroupUserList</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Сообщения</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aed250a79a512d43ee449a1002438010a">addMessage</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMGroupMessage&gt; inMessage) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a223338f1c88ead7f56e5bf6e1c07b465">updateMessage</a>(<span class="keyword">const</span> std::shared_ptr&lt;hmcommon::HMGroupMessage&gt; inMessage) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;hmcommon::HMGroupMessage&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#acb3999bb7e6805062bce168d3720b1a2">findMessage</a>(<span class="keyword">const</span> QUuid&amp; inMessageUUID, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">virtual</span> std::vector&lt;std::shared_ptr&lt;hmcommon::HMGroupMessage&gt;&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ab61a516b9abd905dad0a9cb18a034d1f">findMessages</a>(<span class="keyword">const</span> QUuid&amp; inGroupUUID, <span class="keyword">const</span> <a class="code" href="structhmcommon_1_1MsgRange.html">hmcommon::MsgRange</a>&amp; inRange, std::error_code&amp; outErrorCode) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#afd99e713e31a40fc994c5b5fd1696e46">removeMessage</a>(<span class="keyword">const</span> QUuid&amp; inMessageUUID, <span class="keyword">const</span> QUuid&amp; inGroupUUID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keyword">virtual</span> std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ac25055f4e691caa8aa828a4b39446d41">makeDefault</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    nlohmann::json&amp; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a164e9512ed6667ef3ef0bdcee8836ea5">findUser</a>(<span class="keyword">const</span> QUuid &amp;inUserUUID, std::error_code&amp; outErrorCode);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">const</span> nlohmann::json&amp; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1fc056cb19ff8571cf9212f12e892346">findConstUser</a>(<span class="keyword">const</span> QUuid &amp;inUserUUID, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    nlohmann::json&amp; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af4451dde155385d6ec4679f1755337cd">findGroup</a>(<span class="keyword">const</span> QUuid &amp;inGroupUUID, std::error_code&amp; outErrorCode);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">const</span> nlohmann::json&amp; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a03c4fcd80735293dcffa25ce0a7c9246">findConstGroup</a>(<span class="keyword">const</span> QUuid &amp;inGroupUUID, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a98f52fc8d8c672d5c0e91a67a4a0995b">onCreateUser</a>(<span class="keyword">const</span> QUuid &amp;inUserUUID);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a87839428ae2d26d0ebd2db35ca0828d3">onRemoveUser</a>(<span class="keyword">const</span> QUuid &amp;inUserUUID);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a74cac3dc28dba35021dfa1884660e4b7">addContactUC</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, <span class="keyword">const</span> QUuid&amp; inContactUUID);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a08fcc0f7936b88d81a911f91ad4cca57">removeContactUC</a>(<span class="keyword">const</span> QUuid&amp; inUserUUID, <span class="keyword">const</span> QUuid&amp; inContactUUID);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a689eba44fde841015dfd780e9ef6729e">checkCorrectStruct</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#acb76ba66c5e62d6d93e9f6ed68ded507">checkUsers</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a53f8b5a65aec87c6d5ebfa5a93a42466">checkGroups</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a13234e10bfa9d0347ff5eb63d9983a31">checkMessages</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    std::error_code <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1f7d4d306e6001e8253ed48b9501f9ef">write</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    std::shared_ptr&lt;hmcommon::HMUser&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af9464140b13ffe77e33cd69aa9f32693">jsonToUser</a>(<span class="keyword">const</span> nlohmann::json&amp; inUserObject, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    nlohmann::json <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ade4ff1ea38c77c3259d66e165c1b61ef">userToJson</a>(std::shared_ptr&lt;hmcommon::HMUser&gt; inUser, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    std::shared_ptr&lt;hmcommon::HMGroup&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aef0caa89976ed87d13040619b1837a43">jsonToGroup</a>(<span class="keyword">const</span> nlohmann::json&amp; inGroupObject, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    nlohmann::json <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1f90be54f3ad9decb53f64fc16c79f20">groupToJson</a>(std::shared_ptr&lt;hmcommon::HMGroup&gt; inGroup, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    std::shared_ptr&lt;hmcommon::HMGroupMessage&gt; <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#adcd903702d4be86bdb1a8e5de3fd9da1">jsonToMessage</a>(<span class="keyword">const</span> nlohmann::json&amp; inMessageObject, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    nlohmann::json <a class="code" href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a59a5122d6102a703f1a16840c601fb4a">messageToJson</a>(std::shared_ptr&lt;hmcommon::HMGroupMessage&gt; inMessage, std::error_code&amp; outErrorCode) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;};</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;} <span class="comment">// namespace hmservcommon::datastorage</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#endif // JSONDATASTORAGE_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346af66cab8620d742a03e2aa3073a3734f9"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346af66cab8620d742a03e2aa3073a3734f9">hmservcommon::datastorage::eDataStorageError::dsNotOpen</a></div><div class="ttdeci">@ dsNotOpen</div><div class="ttdoc">Хранилище не открыто</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074ab70b48a1e6db9cc16b106d1bfdf2c4ab"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074ab70b48a1e6db9cc16b106d1bfdf2c4ab">hmcommon::eSystemErrorEx::seIncorretData</a></div><div class="ttdeci">@ seIncorretData</div><div class="ttdoc">Не корректные данные</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a164e9512ed6667ef3ef0bdcee8836ea5"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a164e9512ed6667ef3ef0bdcee8836ea5">hmservcommon::datastorage::HMJsonDataStorage::findUser</a></div><div class="ttdeci">nlohmann::json &amp; findUser(const QUuid &amp;inUserUUID, std::error_code &amp;outErrorCode)</div><div class="ttdoc">findUser - Метод вернёт ссылку на json объект пользователя в хранилище</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:966</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa9f98c5316f7b182daa50c81658a4e1ba144fcac0eff15e7fb278b5d23574a1c9"><div class="ttname"><a href="namespacehmcommon.html#aa9f98c5316f7b182daa50c81658a4e1ba144fcac0eff15e7fb278b5d23574a1c9">hmcommon::eSex::sNotSpecified</a></div><div class="ttdeci">@ sNotSpecified</div><div class="ttdoc">Пол не указан</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074a075fedc58218682904f396b745bb5a5f"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074a075fedc58218682904f396b745bb5a5f">hmcommon::eSystemErrorEx::seInvalidPtr</a></div><div class="ttdeci">@ seInvalidPtr</div><div class="ttdoc">Не валидный указатель</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074a97d8e208f1ba84104a8d4744ae3b74b2"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074a97d8e208f1ba84104a8d4744ae3b74b2">hmcommon::eSystemErrorEx::seOpenFileFail</a></div><div class="ttdeci">@ seOpenFileFail</div><div class="ttdoc">Не удалось открыть файл</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aabb0162c6d3d65e5faf312dd6ff9b1ad"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aabb0162c6d3d65e5faf312dd6ff9b1ad">hmservcommon::datastorage::HMJsonDataStorage::addUser</a></div><div class="ttdeci">virtual std::error_code addUser(const std::shared_ptr&lt; hmcommon::HMUser &gt; inUser) override</div><div class="ttdoc">addUser - Метод добавит нового пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:107</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a76106f4317cfc0140494051d222801cf"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a76106f4317cfc0140494051d222801cf">hmservcommon::datastorage::eDataStorageError::dsMessageAlreadyExists</a></div><div class="ttdeci">@ dsMessageAlreadyExists</div><div class="ttdoc">Сообщение уже существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a8fe994f6f1a05bb97c1a4af8607a5690"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a8fe994f6f1a05bb97c1a4af8607a5690">hmservcommon::datastorage::HMJsonDataStorage::setUserContacts</a></div><div class="ttdeci">virtual std::error_code setUserContacts(const QUuid &amp;inUserUUID, const std::shared_ptr&lt; std::set&lt; QUuid &gt;&gt; inContacts) override</div><div class="ttdoc">setUserContacts - Метод задаст пользователю список контактов</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:259</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgData_html"><div class="ttname"><a href="structhmcommon_1_1MsgData.html">hmcommon::MsgData</a></div><div class="ttdoc">The MsgData struct - Структура, хранящая данные сообщения</div><div class="ttdef"><b>Definition:</b> groupmessage.h:37</div></div>
<div class="ttc" id="alogsystem_8h_html_acc8b76ee310b6b0920dee14ef127db48"><div class="ttname"><a href="logsystem_8h.html#acc8b76ee310b6b0920dee14ef127db48">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(inMessage)</div><div class="ttdef"><b>Definition:</b> logsystem.h:183</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a1319eca40027cace1bddccb068a315ab"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1319eca40027cace1bddccb068a315ab">hmservcommon::datastorage::HMJsonDataStorage::updateUser</a></div><div class="ttdeci">virtual std::error_code updateUser(const std::shared_ptr&lt; hmcommon::HMUser &gt; inUser) override</div><div class="ttdoc">updateUser - Метод обновит данные пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:141</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html_ad1ac6dbe249e7dc46e9f1aa0efa17979"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html#ad1ac6dbe249e7dc46e9f1aa0efa17979">hmservcommon::datastorage::HMJsonDataStorageValidator::jsonToByteArr</a></div><div class="ttdeci">QByteArray jsonToByteArr(const nlohmann::json &amp;inJson) const</div><div class="ttdoc">jsonToByteArr - Функция преобразует JSON в QByteArray</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.cpp:98</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMAbstractDataStorageFunctional_html_a408fff55ef513722a95beafb3b579ac5"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMAbstractDataStorageFunctional.html#a408fff55ef513722a95beafb3b579ac5">hmservcommon::datastorage::HMAbstractDataStorageFunctional::checkNewGroupUnique</a></div><div class="ttdeci">virtual std::error_code checkNewGroupUnique(const std::shared_ptr&lt; hmcommon::HMGroup &gt; inGroup) const</div><div class="ttdoc">checkNewGroupUnique - Метод проверит необходимую уникальность параметров новой группы</div><div class="ttdef"><b>Definition:</b> abstractdatastoragefunctional.cpp:81</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_acb76ba66c5e62d6d93e9f6ed68ded507"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#acb76ba66c5e62d6d93e9f6ed68ded507">hmservcommon::datastorage::HMJsonDataStorage::checkUsers</a></div><div class="ttdeci">std::error_code checkUsers() const</div><div class="ttdoc">checkUsers - Метод проверит корректность структуры пользователей</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1288</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a657aae996bc68cfb3d8f1d9f332ad812"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a657aae996bc68cfb3d8f1d9f332ad812">hmservcommon::datastorage::HMJsonDataStorage::open</a></div><div class="ttdeci">virtual std::error_code open() override</div><div class="ttdoc">open - Метод откроет хранилище данных</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:32</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html">hmservcommon::datastorage::HMJsonDataStorage</a></div><div class="ttdoc">The HMJsonDataStorage class - Класс, описывающий хранилище данных сервера в файле JSON.</div><div class="ttdef"><b>Definition:</b> jsondatastorage.h:25</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a03c4fcd80735293dcffa25ce0a7c9246"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a03c4fcd80735293dcffa25ce0a7c9246">hmservcommon::datastorage::HMJsonDataStorage::findConstGroup</a></div><div class="ttdeci">const nlohmann::json &amp; findConstGroup(const QUuid &amp;inGroupUUID, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">findConstGroup - Метод вернёт константную ссылку на json объект группы в хранилище</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1059</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html_ad67e559f6133a566a6268d5e454de98f"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html#ad67e559f6133a566a6268d5e454de98f">hmservcommon::datastorage::HMJsonDataStorageValidator::checkGroup</a></div><div class="ttdeci">std::error_code checkGroup(const nlohmann::json &amp;inGroupObject) const</div><div class="ttdoc">checkGroup - Метод проверит валидность JSON объекта группы</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.cpp:53</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html_ab42c5960e7b452530a09257c3b8f10f7"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html#ab42c5960e7b452530a09257c3b8f10f7">hmservcommon::datastorage::HMJsonDataStorageValidator::checkUser</a></div><div class="ttdeci">std::error_code checkUser(const nlohmann::json &amp;inUserObject) const</div><div class="ttdoc">checkUser - Метод проверит валидность JSON объекта пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.cpp:11</div></div>
<div class="ttc" id="ajsondatastorage_8h_html"><div class="ttname"><a href="jsondatastorage_8h.html">jsondatastorage.h</a></div><div class="ttdoc">Содержит описание класса хранилища данных в файле JSON.</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a08fcc0f7936b88d81a911f91ad4cca57"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a08fcc0f7936b88d81a911f91ad4cca57">hmservcommon::datastorage::HMJsonDataStorage::removeContactUC</a></div><div class="ttdeci">std::error_code removeContactUC(const QUuid &amp;inUserUUID, const QUuid &amp;inContactUUID)</div><div class="ttdoc">removeContactUC - Метод удалит контакт пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1236</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074ad722f613011e13774a74a93189fe2d05"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074ad722f613011e13774a74a93189fe2d05">hmcommon::eSystemErrorEx::seIncorrecVersion</a></div><div class="ttdeci">@ seIncorrecVersion</div><div class="ttdoc">Не корректная версия</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a89c7d6e8863cd3ca11a6b2474a109b2a"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a89c7d6e8863cd3ca11a6b2474a109b2a">hmservcommon::datastorage::HMJsonDataStorage::addGroupUser</a></div><div class="ttdeci">virtual std::error_code addGroupUser(const QUuid &amp;inGroupUUID, const QUuid &amp;inUserUUID) override</div><div class="ttdoc">setGroupUsers - Метод добавит пользователя в группу</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:599</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgRange_html"><div class="ttname"><a href="structhmcommon_1_1MsgRange.html">hmcommon::MsgRange</a></div><div class="ttdoc">The MsgRange struct - Структура, описывающая временной промежуток сообщений</div><div class="ttdef"><b>Definition:</b> groupmessage.h:74</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074aef6de778712312b09e7c8f6272a8cd8c"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074aef6de778712312b09e7c8f6272a8cd8c">hmcommon::eSystemErrorEx::seReadFileFail</a></div><div class="ttdeci">@ seReadFileFail</div><div class="ttdoc">Ошибка при чтении файла</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ade4ff1ea38c77c3259d66e165c1b61ef"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ade4ff1ea38c77c3259d66e165c1b61ef">hmservcommon::datastorage::HMJsonDataStorage::userToJson</a></div><div class="ttdeci">nlohmann::json userToJson(std::shared_ptr&lt; hmcommon::HMUser &gt; inUser, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">userToJson - Метод преобразует пользователя в объект Json</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1388</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a223338f1c88ead7f56e5bf6e1c07b465"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a223338f1c88ead7f56e5bf6e1c07b465">hmservcommon::datastorage::HMJsonDataStorage::updateMessage</a></div><div class="ttdeci">virtual std::error_code updateMessage(const std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; inMessage) override</div><div class="ttdoc">updateMessage - Метод обновит данные сообщения</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:791</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a1fc056cb19ff8571cf9212f12e892346"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1fc056cb19ff8571cf9212f12e892346">hmservcommon::datastorage::HMJsonDataStorage::findConstUser</a></div><div class="ttdeci">const nlohmann::json &amp; findConstUser(const QUuid &amp;inUserUUID, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">findConstUser - Метод вернёт константную ссылку на json объект пользователя в хранилище</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:997</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMAbstractHardDataStorage_html"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMAbstractHardDataStorage.html">hmservcommon::datastorage::HMAbstractHardDataStorage</a></div><div class="ttdoc">The HMAbstractHardDataStorage class - Класс, описывающий абстракцию физического хранилища данных</div><div class="ttdef"><b>Definition:</b> abstractharddatastorage.h:20</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346aadd891e654b6d82a79754084ba26471a"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346aadd891e654b6d82a79754084ba26471a">hmservcommon::datastorage::eDataStorageError::dsSuccess</a></div><div class="ttdeci">@ dsSuccess</div><div class="ttdoc">0 Не явялется ошибкой</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ad88e9df768644b7cdeada4bc784fe5d8"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ad88e9df768644b7cdeada4bc784fe5d8">hmservcommon::datastorage::HMJsonDataStorage::m_validator</a></div><div class="ttdeci">HMJsonDataStorageValidator m_validator</div><div class="ttdoc">Валидатор формата данных</div><div class="ttdef"><b>Definition:</b> jsondatastorage.h:33</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346aec3aeaac8706fe57b1217b496d6bc530"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346aec3aeaac8706fe57b1217b496d6bc530">hmservcommon::datastorage::eDataStorageError::dsGroupUserRelationAlredyExists</a></div><div class="ttdeci">@ dsGroupUserRelationAlredyExists</div><div class="ttdoc">Связь группа-пользователь уже существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a13234e10bfa9d0347ff5eb63d9983a31"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a13234e10bfa9d0347ff5eb63d9983a31">hmservcommon::datastorage::HMJsonDataStorage::checkMessages</a></div><div class="ttdeci">std::error_code checkMessages() const</div><div class="ttdoc">checkMessages - Метод проверит корректность структуры сообщений</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1324</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html">hmservcommon::datastorage::HMJsonDataStorageValidator</a></div><div class="ttdoc">The HMJsonDataStorageValidator class - Коасс, контролирующий JSON для HMJsonDataStorage.</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.h:19</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a7c4d89a2d5d4ec5ed4bc4e8daa6e77b7"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a7c4d89a2d5d4ec5ed4bc4e8daa6e77b7">hmservcommon::datastorage::eDataStorageError::dsUserContactRelationAlredyExists</a></div><div class="ttdeci">@ dsUserContactRelationAlredyExists</div><div class="ttdoc">Связь пользователь-контакт уже существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a74cac3dc28dba35021dfa1884660e4b7"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a74cac3dc28dba35021dfa1884660e4b7">hmservcommon::datastorage::HMJsonDataStorage::addContactUC</a></div><div class="ttdeci">std::error_code addContactUC(const QUuid &amp;inUserUUID, const QUuid &amp;inContactUUID)</div><div class="ttdoc">addContactUC - Метод добавит контакт пользователю</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1210</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgData_html_ad50b5d97a32f06744fe4126f7081403c"><div class="ttname"><a href="structhmcommon_1_1MsgData.html#ad50b5d97a32f06744fe4126f7081403c">hmcommon::MsgData::m_data</a></div><div class="ttdeci">QByteArray m_data</div><div class="ttdoc">Хранилище данных</div><div class="ttdef"><b>Definition:</b> groupmessage.h:65</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aaecb72687a39e65f93d88cc149014140"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aaecb72687a39e65f93d88cc149014140">hmservcommon::datastorage::HMJsonDataStorage::setGroupUsers</a></div><div class="ttdeci">virtual std::error_code setGroupUsers(const QUuid &amp;inGroupUUID, const std::shared_ptr&lt; std::set&lt; QUuid &gt;&gt; inUsers) override</div><div class="ttdoc">setGroupUsers - Метод задаст список членов группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:553</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aab05e4ced328690bfe601e3dcc4c73e5"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aab05e4ced328690bfe601e3dcc4c73e5">hmservcommon::datastorage::HMJsonDataStorage::removeUserContact</a></div><div class="ttdeci">virtual std::error_code removeUserContact(const QUuid &amp;inUserUUID, const QUuid &amp;inContactUUID) override</div><div class="ttdoc">removeUserContact - Метод удалит контакт пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:336</div></div>
<div class="ttc" id="aHawkLog_8h_html"><div class="ttname"><a href="HawkLog_8h.html">HawkLog.h</a></div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a26cd290119d3370c659f0b0126b5be28"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a26cd290119d3370c659f0b0126b5be28">hmservcommon::datastorage::eDataStorageError::dsGroupUserRelationNotExists</a></div><div class="ttdeci">@ dsGroupUserRelationNotExists</div><div class="ttdoc">Связь группа-пользователь не существует</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a2adcf070d6cd4fb817919180050527c1"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a2adcf070d6cd4fb817919180050527c1">hmservcommon::datastorage::eDataStorageError::dsUserContactNotExists</a></div><div class="ttdeci">@ dsUserContactNotExists</div><div class="ttdoc">Контакт пользователя не существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html_a3530ea2565fda57cf662e1c5530d5b52"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html#a3530ea2565fda57cf662e1c5530d5b52">hmservcommon::datastorage::HMJsonDataStorageValidator::checkMessage</a></div><div class="ttdeci">std::error_code checkMessage(const nlohmann::json &amp;inMesssageObject) const</div><div class="ttdoc">checkMessage - Метод проверит валидность JSON объекта сообщения</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.cpp:76</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a7363a642ac18060116cd8bc648e85bae"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7363a642ac18060116cd8bc648e85bae">hmservcommon::datastorage::HMJsonDataStorage::getGroupUserList</a></div><div class="ttdeci">virtual std::shared_ptr&lt; std::set&lt; QUuid &gt; &gt; getGroupUserList(const QUuid &amp;inGroupUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">getGroupUserList - Метод вернёт список UUID'ов членов группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:737</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_acb3999bb7e6805062bce168d3720b1a2"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#acb3999bb7e6805062bce168d3720b1a2">hmservcommon::datastorage::HMJsonDataStorage::findMessage</a></div><div class="ttdeci">virtual std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; findMessage(const QUuid &amp;inMessageUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">findMessage - Метод найдёт сообщение по его uuid</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:831</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_afd99e713e31a40fc994c5b5fd1696e46"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#afd99e713e31a40fc994c5b5fd1696e46">hmservcommon::datastorage::HMJsonDataStorage::removeMessage</a></div><div class="ttdeci">virtual std::error_code removeMessage(const QUuid &amp;inMessageUUID, const QUuid &amp;inGroupUUID) override</div><div class="ttdoc">removeMessage - Метод удалит сообщение</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:933</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074af3d7af69e924f47e5115ce81f0475492"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074af3d7af69e924f47e5115ce81f0475492">hmcommon::eSystemErrorEx::seOutputOperationFail</a></div><div class="ttdeci">@ seOutputOperationFail</div><div class="ttdoc">Операция вывода прошла с ошибкой</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html">hmservcommon::datastorage</a></div><div class="ttdef"><b>Definition:</b> cachedmemorydatastorage.h:16</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgRange_html_a7c7ab1f2fbdf9532c7f078711bd41546"><div class="ttname"><a href="structhmcommon_1_1MsgRange.html#a7c7ab1f2fbdf9532c7f078711bd41546">hmcommon::MsgRange::m_from</a></div><div class="ttdeci">QDateTime m_from</div><div class="ttdoc">Начало временного промежутка</div><div class="ttdef"><b>Definition:</b> groupmessage.h:88</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074a03f071df41d9a23a6ff1c02d67c53c0b"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074a03f071df41d9a23a6ff1c02d67c53c0b">hmcommon::eSystemErrorEx::seObjectNotFile</a></div><div class="ttdeci">@ seObjectNotFile</div><div class="ttdoc">Объект не является файлом</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a55270d07df8e59979b49ca996466b1b1"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a55270d07df8e59979b49ca996466b1b1">hmservcommon::datastorage::HMJsonDataStorage::~HMJsonDataStorage</a></div><div class="ttdeci">virtual ~HMJsonDataStorage() override</div><div class="ttdoc">~HMJsonDataStorage - Виртуальный деструктор</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:27</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a7d185f5637a6f3b9f67eac6a5f79714c"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a7d185f5637a6f3b9f67eac6a5f79714c">hmservcommon::datastorage::eDataStorageError::dsGroupNotExists</a></div><div class="ttdeci">@ dsGroupNotExists</div><div class="ttdoc">Группа не существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a76a810289a3527343410e83a7d939ce6"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a76a810289a3527343410e83a7d939ce6">hmservcommon::datastorage::HMJsonDataStorage::updateGroup</a></div><div class="ttdeci">virtual std::error_code updateGroup(const std::shared_ptr&lt; hmcommon::HMGroup &gt; inGroup) override</div><div class="ttdoc">updateGroup - Метод обновит данные группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:475</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a7a02a80b8d82a50f3def1e81482cbf9c"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7a02a80b8d82a50f3def1e81482cbf9c">hmservcommon::datastorage::HMJsonDataStorage::addGroup</a></div><div class="ttdeci">virtual std::error_code addGroup(const std::shared_ptr&lt; hmcommon::HMGroup &gt; inGroup) override</div><div class="ttdoc">addGroup - Метод добавит новую группу</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:449</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aaffd2faec932fd614f72da7fcb0d9a1b"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aaffd2faec932fd614f72da7fcb0d9a1b">hmservcommon::datastorage::HMJsonDataStorage::m_invalidObject</a></div><div class="ttdeci">nlohmann::json m_invalidObject</div><div class="ttdoc">Не валидный json объект</div><div class="ttdef"><b>Definition:</b> jsondatastorage.h:31</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ab847270a178228e732a2d0d115c89362"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ab847270a178228e732a2d0d115c89362">hmservcommon::datastorage::HMJsonDataStorage::clearGroupUsers</a></div><div class="ttdeci">virtual std::error_code clearGroupUsers(const QUuid &amp;inGroupUUID) override</div><div class="ttdoc">clearGroupUsers - Метод очистит список членов группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:695</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a455fb5ad71c026b9e0a71154c15254e2"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a455fb5ad71c026b9e0a71154c15254e2">hmservcommon::datastorage::HMJsonDataStorage::close</a></div><div class="ttdeci">virtual void close() override</div><div class="ttdoc">close - Метод закроет хранилище данных</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:94</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_abfdf94d5dca87303a3dc3c253df331a2"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#abfdf94d5dca87303a3dc3c253df331a2">hmservcommon::datastorage::HMJsonDataStorage::addUserContact</a></div><div class="ttdeci">virtual std::error_code addUserContact(const QUuid &amp;inUserUUID, const QUuid &amp;inContactUUID) override</div><div class="ttdoc">addUserContact - Метод добавит контакт пользователю</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:305</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_af9464140b13ffe77e33cd69aa9f32693"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af9464140b13ffe77e33cd69aa9f32693">hmservcommon::datastorage::HMJsonDataStorage::jsonToUser</a></div><div class="ttdeci">std::shared_ptr&lt; hmcommon::HMUser &gt; jsonToUser(const nlohmann::json &amp;inUserObject, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">jsonToUser - Метод преобразует Json объект в экземпляр пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1368</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346ac57d3ce0dc0e4714b20eb66e62ec9419"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346ac57d3ce0dc0e4714b20eb66e62ec9419">hmservcommon::datastorage::eDataStorageError::dsUserNotExists</a></div><div class="ttdeci">@ dsUserNotExists</div><div class="ttdoc">Пользователь не существует</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a4459561f4b1cff34960e4092859aa83f"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a4459561f4b1cff34960e4092859aa83f">hmservcommon::datastorage::HMJsonDataStorage::removeGroupUser</a></div><div class="ttdeci">virtual std::error_code removeGroupUser(const QUuid &amp;inGroupUUID, const QUuid &amp;inUserUUID) override</div><div class="ttdoc">removeGroupUser - Метод удалит пользователя из группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:647</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a545a136e33bf9ec4c57d554011dda10f"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a545a136e33bf9ec4c57d554011dda10f">hmservcommon::datastorage::HMJsonDataStorage::m_json</a></div><div class="ttdeci">nlohmann::json m_json</div><div class="ttdoc">json файл</div><div class="ttdef"><b>Definition:</b> jsondatastorage.h:30</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator_html_a9350acf42b2bab58affe884156600807"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorageValidator.html#a9350acf42b2bab58affe884156600807">hmservcommon::datastorage::HMJsonDataStorageValidator::byteArrToJson</a></div><div class="ttdeci">nlohmann::json byteArrToJson(const QByteArray &amp;inByteArr) const</div><div class="ttdoc">byteArrToJson - Функция преобразует QByteArray в JSON</div><div class="ttdef"><b>Definition:</b> jsondatastoragevalidator.cpp:113</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a7005f1738c62da5f90378c68abc5e9c9"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7005f1738c62da5f90378c68abc5e9c9">hmservcommon::datastorage::HMJsonDataStorage::m_jsonPath</a></div><div class="ttdeci">const std::filesystem::path m_jsonPath</div><div class="ttdoc">Путь к json файлу</div><div class="ttdef"><b>Definition:</b> jsondatastorage.h:29</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgRange_html_a9f9e443fc20479c5b8d400e51426ae7a"><div class="ttname"><a href="structhmcommon_1_1MsgRange.html#a9f9e443fc20479c5b8d400e51426ae7a">hmcommon::MsgRange::m_to</a></div><div class="ttdeci">QDateTime m_to</div><div class="ttdoc">Окончание временного промежутка</div><div class="ttdef"><b>Definition:</b> groupmessage.h:89</div></div>
<div class="ttc" id="astructhmcommon_1_1MsgData_html_add4a65ef01c62dc4979d98520c489816"><div class="ttname"><a href="structhmcommon_1_1MsgData.html#add4a65ef01c62dc4979d98520c489816">hmcommon::MsgData::m_type</a></div><div class="ttdeci">eMsgType m_type</div><div class="ttdoc">Тип данных</div><div class="ttdef"><b>Definition:</b> groupmessage.h:64</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a1f7d4d306e6001e8253ed48b9501f9ef"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1f7d4d306e6001e8253ed48b9501f9ef">hmservcommon::datastorage::HMJsonDataStorage::write</a></div><div class="ttdeci">std::error_code write() const</div><div class="ttdoc">write - Метод запишет изменения в JSON файл</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1342</div></div>
<div class="ttc" id="adatastorageerrorcategory_8h_html"><div class="ttname"><a href="datastorageerrorcategory_8h.html">datastorageerrorcategory.h</a></div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a4fbcd774a183773a78780eef66021141"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a4fbcd774a183773a78780eef66021141">hmservcommon::datastorage::HMJsonDataStorage::HMJsonDataStorage</a></div><div class="ttdeci">HMJsonDataStorage(const std::filesystem::path &amp;inJsonPath)</div><div class="ttdoc">HMJsonDataStorage - Инициализирующий конструктор</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:20</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346a090ebde89fa3b2a6d4f551ebf7b12c72"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346a090ebde89fa3b2a6d4f551ebf7b12c72">hmservcommon::datastorage::eDataStorageError::dsMessageNotExists</a></div><div class="ttdeci">@ dsMessageNotExists</div><div class="ttdoc">Сообщение не существует</div></div>
<div class="ttc" id="aabstractharddatastorage_8h_html"><div class="ttname"><a href="abstractharddatastorage_8h.html">abstractharddatastorage.h</a></div><div class="ttdoc">Содержит описание абстрактного класса физического хранилища данных</div></div>
<div class="ttc" id="asystemerrorex_8h_html"><div class="ttname"><a href="systemerrorex_8h.html">systemerrorex.h</a></div><div class="ttdoc">Содержит описание категории расширеных системных ошибок</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ab61a516b9abd905dad0a9cb18a034d1f"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ab61a516b9abd905dad0a9cb18a034d1f">hmservcommon::datastorage::HMJsonDataStorage::findMessages</a></div><div class="ttdeci">virtual std::vector&lt; std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; &gt; findMessages(const QUuid &amp;inGroupUUID, const hmcommon::MsgRange &amp;inRange, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">findMessages - Метод вернёт перечень сообщений группы за куазаный промежуток времени</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:868</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a69c8ae062f88f8f4dc0771f1dbde7ac1"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a69c8ae062f88f8f4dc0771f1dbde7ac1">hmservcommon::datastorage::HMJsonDataStorage::getUserGroups</a></div><div class="ttdeci">virtual std::shared_ptr&lt; std::set&lt; QUuid &gt; &gt; getUserGroups(const QUuid &amp;inUserUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">getUserGroups - Метод вернёт список групп пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:427</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ad3c8ee535dc17ca12422dc3ba57b0f7d"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ad3c8ee535dc17ca12422dc3ba57b0f7d">hmservcommon::datastorage::HMJsonDataStorage::findUserByAuthentication</a></div><div class="ttdeci">virtual std::shared_ptr&lt; hmcommon::HMUser &gt; findUserByAuthentication(const QString &amp;inLogin, const QByteArray &amp;inPasswordHash, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">findUserByAuthentication - Метод найдёт пользователя по его данным аутентификации</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:184</div></div>
<div class="ttc" id="ajsondatastorageconst_8h_html"><div class="ttname"><a href="jsondatastorageconst_8h.html">jsondatastorageconst.h</a></div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_af7129f6ff8883d6b59a187a375992aeb"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af7129f6ff8883d6b59a187a375992aeb">hmservcommon::datastorage::HMJsonDataStorage::is_open</a></div><div class="ttdeci">virtual bool is_open() const override</div><div class="ttdoc">is_open - Метод вернёт признак открытости хранилища данных</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:89</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aea408c5f20ffe8908f9e706127e11dd9"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aea408c5f20ffe8908f9e706127e11dd9">hmservcommon::datastorage::HMJsonDataStorage::removeUser</a></div><div class="ttdeci">virtual std::error_code removeUser(const QUuid &amp;inUserUUID) override</div><div class="ttdoc">removeUser - Метод удалит пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:225</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aed250a79a512d43ee449a1002438010a"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aed250a79a512d43ee449a1002438010a">hmservcommon::datastorage::HMJsonDataStorage::addMessage</a></div><div class="ttdeci">virtual std::error_code addMessage(const std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; inMessage) override</div><div class="ttdoc">addMessage - Метод добавит новое сообщение</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:759</div></div>
<div class="ttc" id="asystemerrorex_8cpp_html_aacc415fb080ba818238619f5ab0676c3"><div class="ttname"><a href="systemerrorex_8cpp.html#aacc415fb080ba818238619f5ab0676c3">make_error_code</a></div><div class="ttdeci">std::error_code make_error_code(hmcommon::eSystemErrorEx inErrCode)</div><div class="ttdoc">make_error_code - Перегрузка глобальной функции make_error_code () нашем пользовательским перечислени...</div><div class="ttdef"><b>Definition:</b> systemerrorex.cpp:82</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a97d9b5a2a2d20d652416e72082426ce7"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a97d9b5a2a2d20d652416e72082426ce7">hmservcommon::datastorage::HMJsonDataStorage::removeGroup</a></div><div class="ttdeci">virtual std::error_code removeGroup(const QUuid &amp;inGroupUUID) override</div><div class="ttdoc">removeGroup - Метод удалит группу</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:523</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_af4451dde155385d6ec4679f1755337cd"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#af4451dde155385d6ec4679f1755337cd">hmservcommon::datastorage::HMJsonDataStorage::findGroup</a></div><div class="ttdeci">nlohmann::json &amp; findGroup(const QUuid &amp;inGroupUUID, std::error_code &amp;outErrorCode)</div><div class="ttdoc">findGroup - Метод вернёт ссылку на json объект группы в хранилище</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1028</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_afef4c7507fb65d03a581e9598761914f"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#afef4c7507fb65d03a581e9598761914f">hmservcommon::datastorage::HMJsonDataStorage::findUserByUUID</a></div><div class="ttdeci">virtual std::shared_ptr&lt; hmcommon::HMUser &gt; findUserByUUID(const QUuid &amp;inUserUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">findUserByUUID - Метод найдёт пользователя по его uuid</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:167</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a98f52fc8d8c672d5c0e91a67a4a0995b"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a98f52fc8d8c672d5c0e91a67a4a0995b">hmservcommon::datastorage::HMJsonDataStorage::onCreateUser</a></div><div class="ttdeci">std::error_code onCreateUser(const QUuid &amp;inUserUUID)</div><div class="ttdoc">onCreateUser - Метод выполнится при создании пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1090</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ac8ba242b00ff9beeaed5c93c5be11a41"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ac8ba242b00ff9beeaed5c93c5be11a41">hmservcommon::datastorage::HMJsonDataStorage::findGroupByUUID</a></div><div class="ttdeci">virtual std::shared_ptr&lt; hmcommon::HMGroup &gt; findGroupByUUID(const QUuid &amp;inGroupUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">findGroupByUUID - Метод найдёт пользователя по его uuid</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:501</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a7fc56117718d56551ba0e4d2d5b243f9"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a7fc56117718d56551ba0e4d2d5b243f9">hmservcommon::datastorage::HMJsonDataStorage::clearUserContacts</a></div><div class="ttdeci">virtual std::error_code clearUserContacts(const QUuid &amp;inUserUUID) override</div><div class="ttdoc">clearUserContacts - Метод очистит контакты пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:362</div></div>
<div class="ttc" id="anamespacehmcommon_html_aa623151570760a868235b187863ad074aa330e55c3e289df2376203fce3c17925"><div class="ttname"><a href="namespacehmcommon.html#aa623151570760a868235b187863ad074aa330e55c3e289df2376203fce3c17925">hmcommon::eSystemErrorEx::seSuccess</a></div><div class="ttdeci">@ seSuccess</div><div class="ttdoc">0 Не явялется ошибкой</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_adcd903702d4be86bdb1a8e5de3fd9da1"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#adcd903702d4be86bdb1a8e5de3fd9da1">hmservcommon::datastorage::HMJsonDataStorage::jsonToMessage</a></div><div class="ttdeci">std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; jsonToMessage(const nlohmann::json &amp;inMessageObject, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">jsonToMessage - Метод преобразует Json объект в экземпляр сообщения</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1457</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_aef0caa89976ed87d13040619b1837a43"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#aef0caa89976ed87d13040619b1837a43">hmservcommon::datastorage::HMJsonDataStorage::jsonToGroup</a></div><div class="ttdeci">std::shared_ptr&lt; hmcommon::HMGroup &gt; jsonToGroup(const nlohmann::json &amp;inGroupObject, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">jsonToGroup - Метод преобразует Json объект в экземпляр группы</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1417</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a25efe7999dbe8fa55b28ded9e4bd23f3"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a25efe7999dbe8fa55b28ded9e4bd23f3">hmservcommon::datastorage::HMJsonDataStorage::getUserContactList</a></div><div class="ttdeci">virtual std::shared_ptr&lt; std::set&lt; QUuid &gt; &gt; getUserContactList(const QUuid &amp;inUserUUID, std::error_code &amp;outErrorCode) const override</div><div class="ttdoc">getUserContactList - Метод вернёт список контактов пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:404</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_ac25055f4e691caa8aa828a4b39446d41"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#ac25055f4e691caa8aa828a4b39446d41">hmservcommon::datastorage::HMJsonDataStorage::makeDefault</a></div><div class="ttdeci">virtual std::error_code makeDefault() override</div><div class="ttdoc">makeDefault - Метод сформирует дефолтную структуру хранилища</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1145</div></div>
<div class="ttc" id="anamespacehmservcommon_1_1datastorage_html_a3d95216f1cded112bfab2672868e2346aa487126049b54f76aacad7b602ded3f3"><div class="ttname"><a href="namespacehmservcommon_1_1datastorage.html#a3d95216f1cded112bfab2672868e2346aa487126049b54f76aacad7b602ded3f3">hmservcommon::datastorage::eDataStorageError::dsUserPasswordIncorrect</a></div><div class="ttdeci">@ dsUserPasswordIncorrect</div><div class="ttdoc">Не корректный пароль пользователя</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a53f8b5a65aec87c6d5ebfa5a93a42466"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a53f8b5a65aec87c6d5ebfa5a93a42466">hmservcommon::datastorage::HMJsonDataStorage::checkGroups</a></div><div class="ttdeci">std::error_code checkGroups() const</div><div class="ttdoc">checkGroups - Метод проверит корректность структуры групп</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1306</div></div>
<div class="ttc" id="alogsystem_8h_html_a28d951a59b78eae4199639f6996219e2"><div class="ttname"><a href="logsystem_8h.html#a28d951a59b78eae4199639f6996219e2">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING(inMessage)</div><div class="ttdef"><b>Definition:</b> logsystem.h:181</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a1f90be54f3ad9decb53f64fc16c79f20"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a1f90be54f3ad9decb53f64fc16c79f20">hmservcommon::datastorage::HMJsonDataStorage::groupToJson</a></div><div class="ttdeci">nlohmann::json groupToJson(std::shared_ptr&lt; hmcommon::HMGroup &gt; inGroup, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">groupToJson - Метод преобразует группу в объект Json</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1433</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMAbstractDataStorageFunctional_html_aa277c38e68d58396d55db76900b18823"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMAbstractDataStorageFunctional.html#aa277c38e68d58396d55db76900b18823">hmservcommon::datastorage::HMAbstractDataStorageFunctional::checkNewUserUnique</a></div><div class="ttdeci">virtual std::error_code checkNewUserUnique(const std::shared_ptr&lt; hmcommon::HMUser &gt; inUser) const</div><div class="ttdoc">checkNewUserUnique - Метод проверит необходимую уникальность параметров нового пользователя</div><div class="ttdef"><b>Definition:</b> abstractdatastoragefunctional.cpp:16</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a59a5122d6102a703f1a16840c601fb4a"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a59a5122d6102a703f1a16840c601fb4a">hmservcommon::datastorage::HMJsonDataStorage::messageToJson</a></div><div class="ttdeci">nlohmann::json messageToJson(std::shared_ptr&lt; hmcommon::HMGroupMessage &gt; inMessage, std::error_code &amp;outErrorCode) const</div><div class="ttdoc">messageToJson - Метод преобразует сообщение в объект Json</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1478</div></div>
<div class="ttc" id="ajsondatastoragevalidator_8h_html"><div class="ttname"><a href="jsondatastoragevalidator_8h.html">jsondatastoragevalidator.h</a></div><div class="ttdoc">Содержит описание класса, контролирующего JSON для HMJsonDataStorage.</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a87839428ae2d26d0ebd2db35ca0828d3"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a87839428ae2d26d0ebd2db35ca0828d3">hmservcommon::datastorage::HMJsonDataStorage::onRemoveUser</a></div><div class="ttdeci">std::error_code onRemoveUser(const QUuid &amp;inUserUUID)</div><div class="ttdoc">onRemoveUser - Метод выполнится при удалении пользователя</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1104</div></div>
<div class="ttc" id="aclasshmservcommon_1_1datastorage_1_1HMJsonDataStorage_html_a689eba44fde841015dfd780e9ef6729e"><div class="ttname"><a href="classhmservcommon_1_1datastorage_1_1HMJsonDataStorage.html#a689eba44fde841015dfd780e9ef6729e">hmservcommon::datastorage::HMJsonDataStorage::checkCorrectStruct</a></div><div class="ttdeci">std::error_code checkCorrectStruct() const</div><div class="ttdoc">checkCorrectStruct - Метод проверит корректность структуры файла</div><div class="ttdef"><b>Definition:</b> jsondatastorage.cpp:1262</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
